---
title: MySQL索引
date: 2018-11-14 11:10:56
tags: MySQL
---
### MySQL索引对性能的影响
>1.大大减少服务器需要扫描的数据量
2.帮助服务器避免排序和临时表
3.将随机的I/O变为顺序的I/O
4.提高查询速度，降低写的速度、占用磁盘
### MySQL索引的使用场景
>1.对于非常小的表，大部分情况下全表扫描效率更高
2.中到大型表，索引非常有效
3.特大型表，建立和使用索引的代价将随之增长，可以使用分区技术解决
### MySQL索引的类型
>索引有很多种类型，都是实现在存储引擎层的:
1.普通索引：最基本的索引，没有任何约束限制
2.唯一索引：与普通索引类似，但具有唯一约束性
3.主键索引：特殊的唯一索引，不允许有空值
4.组合索引：将多个列组合在一起创建索引，可以覆盖多个列
5.外键索引：只有InnoDB使用，保证数据的一致性完整性和实现级联操作
6.全文索引：只有MyISAM使用，只能对英文进行全文检索
注意：一个表只有一个主键索引，可以有多个唯一索引
主键索引一定是唯一索引，唯一索引不是主键索引
主键可以与外键构成参照完整性约束，防止数据不一致
### MySQL索引的创建原则
>1.最适合索引的列是出现在WHERE子句中的列，或连接子句中的列而不是SELECT
关键字后的列
2.索引列的基数越大，索引的效果越好
3.对字符串进行索引，应该指定一个前缀长度，可以节省大量的索引空间
4.根据情况创建复合索引，复合索引可以提高查询效率
5.避免创建过多的索引，索引会占用额外的磁盘空间，降低写操作效率
6.主键尽可能选择较短的数据类型，可以有效减少索引的磁盘占用提高查询效率
### MySQL索引的注意事项
>1.复合索引遵循前缀原则
2.like查询，%不能在前，可以使用全文索引
3.column is null 可以使用索引
4.如果mysql估计使用索引比全表扫描慢会放弃使用索引
5.如果or前的条件中的列有索引，后面的没有，索引都不会被用到
6.列类型是字符串，查询时一定要给值加引号，否则索引失效